import{K as l,e0 as p,eT as o}from"./index-CfYeSufM.js";import{t as c}from"./symbolUtils-DzBXc-Wp.js";import"./utils-BhrB4brX.js";import"./utils-L9BGy6Hj.js";import"./cimSymbolUtils-Bu2r_l8n.js";import"./webStyleSymbolUtils-C0OVnxdp.js";import"./devEnvironmentUtils-CnNDiFMM.js";async function S(e,i,t){var h;const r=(h=e.thumbnail)==null?void 0:h.url;if(r){const a=d((await l(r,{responseType:"image"})).data,t);return t!=null&&t.node?(t.node.appendChild(a),t.node):a}const s=await e.fetchSymbol({acceptedFormats:p});return s?i(s,t):null}function d(e,i){const t=!/\\.svg$/i.test(e.src)&&(i==null?void 0:i.disableUpsampling),r=Math.max(e.width,e.height);let s=(i==null?void 0:i.maxSize)!=null?o(i.maxSize):c.maxSize;t&&(s=Math.min(r,s));const h=typeof(i==null?void 0:i.size)=="number"?i==null?void 0:i.size:null,a=Math.min(s,h!=null?o(h):r);if(a!==r){const m=e.width!==0&&e.height!==0?e.width/e.height:1;m>=1?(e.width=a,e.height=a/m):(e.width=a*m,e.height=a)}return e}export{S as previewWebStyleSymbol};
