import{bm as z,bn as $,bo as q,bp as l,bq as B,br as T,bs as I,bt as h,bu as c,bv as k,bw as C,bx as H,by as L,bz as p}from"./index-CzvLtnX1.js";import{N as m,q as N,b as P,j as U}from"./geodesicUtils-C0S8HwBT.js";var i;function V(e,n){if(e==null||n==null)return;const t=R(e,n);return t!=null?l(t,"radians","geographic"):void 0}(function(e){e.Absolute="absolute",e.Relative="relative",e.RelativeBilateral="relative-bilateral"})(i||(i={}));const R=(()=>{const e=c(),n=c();return(t,r)=>(p(e,t.x,t.y,t.z??0),p(n,r.x,r.y,r.z??0),D(e,n,t.spatialReference,r.spatialReference))})(),D=(()=>{const e=k(),n=c(),t=c();return(r,a,f,b)=>{if(T(r,a))return;const s=m(f),u=m(b);if(s&&u&&I(s,u)&&h(r,f,n,s)&&h(a,b,t,u)){const{azimuth:g}=N(F,n,t,s);return g!=null?$(g,"degrees","radians"):void 0}e[0]=a[0]-r[0],e[1]=a[1]-r[1];let o=C(H,e);return e[0]<0&&(o=G-o),o}})();function Q(e,n,t,r=i.Absolute){if(n&&t)switch(r){case i.Absolute:return V(n,t);case i.Relative:return x(w(e,n,t),i.Relative);case i.RelativeBilateral:return x(w(e,n,t),i.RelativeBilateral)}}function w(e,n,t){if(!e||!n||!t)return;const r=R(e,n),a=R(n,t);return r!=null&&a!=null?l(a-r,"radians","geographic"):void 0}function x(e,n){if(e!=null)switch(n){case i.Absolute:return E(e);case i.Relative:{const t=v(e);let r=y.normalize(t,0,!0);return r===-180&&(r=180),l(r,"degrees","geographic")}case i.RelativeBilateral:{const t=v(e),r=Math.abs(y.normalize(t,0,!0));return l(r,"degrees","geographic")}}}function E(e){const n=v(e),t=J.normalize(n,0,!0);return l(t,"degrees","geographic")}const S=(()=>{const e=c();return(n,t,r,a,f,b="geodesic")=>{L(e,t);const s=v(f);if(b==="geodesic"){const d=m(r);if(d&&h(e,r,e,d))return U(n,e,s,a,d),n[2]=t[2],!!h(n,d,n,r)}const u=z(s,"geographic","arithmetic"),o=$(u,"degrees","radians"),g=t[0]+a*Math.cos(o),M=t[1]+a*Math.sin(o),j=t[2];return p(n,g,M,j),!0}})();function v(e){if(e!=null)return z(A(e),e.rotationType,"geographic")}function W(e){if(e!=null)return z(A(e),e.rotationType,"arithmetic")}function A(e){return $(e.value,e.unit,"degrees")}const F=new P,G=2*Math.PI,J=q,y=new B(-180,180);export{E as A,S as M,V as R,v as T,W as U,i as j,x as w,Q as x,D as y};
