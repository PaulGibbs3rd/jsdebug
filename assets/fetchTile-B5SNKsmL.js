import{ax as n,az as c,dr as m,aA as u,eu as f}from"./index-CfYeSufM.js";async function l(t,s,r){const e=t.layer;if(n(e)){const i=await e.fetchTile(s[0],s[1],s[2],r);if(c(r))throw u.getLogger(t).warnOnce("A call to fetchTile resolved even though the request was aborted. fetchTile should not resolve if options.signal.aborted is true."),m();return i}let a=t.getTileUrl(s);f(e)&&e.refreshTimestamp&&(a+=`${a.includes("?")?"&":"?"}_ts=${e.refreshTimestamp}`);const o=t.hasMixedImageFormats?"image+type":"image";return r.requester.request(a,o,r)}export{l as i};
